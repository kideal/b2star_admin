<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.mall.dao.OrderServiceMapper">

    <resultMap id="orderInfoResultMap" type="com.mall.dto.OrderInfoDto"
               extends="com.mall.dao.OrdersMapper.BaseResultMap">
        <result column="accept_name" jdbcType="VARCHAR" property="acceptName"/>
    </resultMap>

    <select id="findOrders" parameterType="java.util.Map" resultMap="orderInfoResultMap">
        SELECT
	      o.order_no,
        o.pay_status,
	      o.`status`,
	      a.accept_name,
	      o.goods_amount,
	      o.goods_price,
	      o.order_price,
	      o.express_fee,
	      o.coupon_price,
	      o.create_date
        FROM
	      orders o
        LEFT JOIN order_address a ON o.address_id = a.order_address_id
        WHERE
	      order_no LIKE "D%"
       <!-- <if test="startDate != null">
            <![CDATA[ AND create_date >= #{startDate} ]]>
        </if>
        <if test="endDate != null">
            <![CDATA[ AND create_date <= #{endDate} ]]>
        </if>
        <if test="user_id !=null">
            o.user_id = #{user_id}
        </if>
        <if test="status!=null ">

        </if>-->
        ORDER BY o.order_id DESC
    </select>


</mapper>